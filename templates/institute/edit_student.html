{% extends "institute/base.html" %}

{% block title %}Edit Student - {{ student.student_name }}{% endblock %}

{% block content %}
<div class="institute-info">
    <h1>{{ institute.institution_name }}</h1>
    <h2>Edit Student</h2>
</div>

<div class="cards-container">
    <div class="students-info-container">
        <!-- Edit Form -->
        <form method="POST" enctype="multipart/form-data">
            <!-- PERSONAL DETAILS -->
            <h2 class="section-title">Personal Details</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="student_name">Full Name</label>
                    <input type="text" name="student_name" id="student_name" value="{{ student.student_name }}"
                        required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" name="email" id="email" value="{{ student.email }}" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" name="username" id="username" value="{{ student.username }}" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" name="phone" id="phone" value="{{ student.phone }}">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" name="dob" id="dob" value="{{ student.dob|default('', true) }}">
                </div>
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select name="gender" id="gender">
                        <option value="">-- Select Gender --</option>
                        <option value="male" {% if student.gender=='male' %}selected{% endif %}>Male</option>
                        <option value="female" {% if student.gender=='female' %}selected{% endif %}>Female</option>
                        <option value="other" {% if student.gender=='other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" name="city" id="city" value="{{ student.city }}">
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" name="state" id="state" value="{{ student.state }}">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" name="address" id="address" value="{{ student.address }}">
                </div>
                <div class="form-group">
                    <label for="enroll_number">Enrollment Number</label>
                    <input type="text" name="enroll_number" id="enroll_number" value="{{ student.enroll_number }}"
                        required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="course">Course</label>
                    <input type="text" name="course" id="course" value="{{ student.course }}">
                </div>
                <div class="form-group">
                    <label for="guardian_name">Guardian's Name</label>
                    <input type="text" name="guardian_name" id="guardian_name" value="{{ student.guardian_name }}">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="guardian_phone">Guardian's Phone</label>
                    <input type="text" name="guardian_phone" id="guardian_phone" value="{{ student.guardian_phone }}">
                </div>
                <div class="form-group">
                    <label for="profile_pic">Upload Profile Picture</label>
                    <input type="file" name="profile_pic" id="profile_pic" class="file-input">
                </div>
            </div>

            <!-- Submit Button -->
            <div class="btn-row">
                <button type="submit" class="register-btn">Update Student</button>
            </div>
        </form>
    </div>
    </section>

    {% block right_panel %}{% endblock %}
    {% endblock %}